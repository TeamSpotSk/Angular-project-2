<!-- Navbar -->
<nav class="flex items-center justify-between bg-white shadow-md px-6 py-3">
    <div class="flex items-center space-x-6">
        <img src="https://www.drumbuffer.com/assets/img/logo.png" alt="Logo" class="h-6">
        <a href="#" class="flex items-center text-gray-700 font-semibold gap-2">
            <i class="material-icons text-lg">bar_chart</i>
            <span>Home</span>
        </a>
        <a href="#" class="flex items-center text-gray-700 font-semibold gap-2">
            <i class="material-icons text-lg">pie_chart</i>
            <span>Control Center</span>
        </a>
        <a href="#" class="flex items-center text-gray-700 font-semibold gap-2">
            <i class="material-icons text-lg">lock</i>
            <span>Permission</span>
        </a>
        <a href="#" class="flex items-center text-gray-700 font-semibold gap-2">
            <i class="material-icons text-lg">link</i>
            <span>Partners</span>
        </a>
        <a href="#" class="flex items-center text-gray-700 font-semibold gap-2">
            <i class="material-icons text-lg">memory</i>
            <span>Devices</span>
        </a>
        <a href="#" class="flex items-center text-gray-700 font-semibold gap-2">
            <i class="material-icons text-lg">layers</i>
            <span>Master Data</span>
        </a>
        <a href="#" class="flex items-center text-gray-700 font-semibold gap-2">
            <i class="material-icons text-lg">currency_rupee</i>
            <span>Product</span>
        </a>
        <a href="#" class="flex items-center text-gray-700 font-semibold gap-2">
            <i class="material-icons text-lg">chat_bubble_outline</i>
            <span>Support</span>
        </a>
    </div>

    <div class="flex items-center space-x-4">
        <button class="text-gray-600">
            <i class="material-icons text-xl">fullscreen</i>
        </button>
        <button class="text-gray-600">
            <i class="material-icons text-xl">help_outline</i>
        </button>
        <button class="text-gray-600 relative">
            <i class="material-icons text-xl">account_circle</i>
            <span class="absolute bottom-0 right-0 bg-green-500 rounded-full w-2 h-2"></span>
        </button>
        <button class="text-gray-600">
            <i class="material-icons text-xl">apps</i>
        </button>
    </div>
</nav>

<div class="p-8">
    <div class="bg-white shadow-md p-6 rounded-lg">
        <div class="flex justify-between items-center">
            <h2 class="text-lg font-semibold">Partner Listing</h2>
            <div class="flex items-center gap-4">
                <div class="relative flex items-center">
                    <span class="absolute left-3 text-gray-400">
                        <i class="material-icons">search</i>
                    </span>
                    <input type="text" placeholder="Enter 3 characters to search" [(ngModel)]="searchText" (input)="filterData()" class="w-full border border-gray-300 bg-gray-100 rounded-full pl-10 pr-4 py-2 text-sm text-gray-500 focus:outline-none">
                </div>
                <button (click)="navigateToAddPartner()" class="bg-[darkblue] text-white px-6 py-2 rounded-lg flex items-center gap-2 shadow-md hover:bg-[#4D47F8] transition">
                    <i class="material-icons">add</i>
                    <span>Add</span>
                </button>
            </div>
        </div>

        <div class="mt-6">
            <table class="w-full border-collapse">
                <thead class="bg-gray-100 text-gray-700 border-b border-gray-300">
                    <tr>
                        <th class="p-4 text-left cursor-pointer flex items-center gap-1" (click)="sortByName()">
                            <span>Name</span>
                            <i class="material-icons text-base relative top-[2px]">
                                {{ sortAscending ? 'arrow_drop_up' : 'arrow_drop_down' }}
                            </i>
                        </th>
                        
                        <th class="p-4 text-left">Address</th>
                        <th class="p-4 text-left">Email</th>
                        <th class="p-4 text-left">Contact Number</th>
                        <th class="p-4 text-left">Status</th>
                    </tr>
                </thead>
                
                <tbody>
                    <tr *ngFor="let partner of getPaginatedPartners()" class="border-b border-gray-200">
                        <td class="p-4 flex items-center gap-2">
                            <input type="radio" name="selectedPartner" (change)="navigateToEdit(partner.id)">
                            {{ partner.partnerName }}
                        </td>
                        <td class="p-4">{{ partner.address }}</td>
                        <td class="p-4">{{ partner.email }}</td>
                        <td class="p-4">{{ partner.contactNumber }}</td>
                        <td class="p-4">
                            <span class="bg-green-200 text-green-900 px-3 py-1 rounded-full text-xs font-bold">{{ partner.status }}</span>
                        </td>
                    </tr>
                    <tr *ngIf="getPaginatedPartners().length === 0">
                        <td colspan="5" class="text-center text-gray-500 py-6">No Data Found</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="flex justify-end items-center mt-4 text-gray-700 text-sm space-x-6">
            <div class="flex items-center space-x-2">
                <span>Items per page:</span>
                <select [(ngModel)]="itemsPerPage" (change)="updatePagination()" class="border border-gray-300 rounded px-3 py-1 text-sm focus:ring focus:ring-blue-200 outline-none">
                    <option value="10">10</option>
                    <option value="20">20</option>
                    <option value="30">30</option>
                </select>
            </div>
            <div class="min-w-[80px] text-center">{{ (currentPage - 1) * itemsPerPage + 1 }} - {{ totalDisplayedItems }} of {{ filteredPartners.length }}</div>
            <div class="flex items-center space-x-2">
                <button (click)="goToFirstPage()" [disabled]="currentPage === 1" class="pagination-btn">
                    <i class="material-icons">first_page</i>
                </button>
                <button (click)="goToPreviousPage()" [disabled]="currentPage === 1" class="pagination-btn">
                    <i class="material-icons">chevron_left</i>
                </button>
                <button (click)="goToNextPage()" [disabled]="currentPage * itemsPerPage >= filteredPartners.length" class="pagination-btn">
                    <i class="material-icons">chevron_right</i>
                </button>
                <button (click)="goToLastPage()" [disabled]="currentPage * itemsPerPage >= filteredPartners.length" class="pagination-btn">
                    <i class="material-icons">last_page</i>
                </button>
            </div>
        </div>
    </div>
</div>